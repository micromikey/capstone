/* Enhanced HikeThere Map Styles - Professional Hiking Experience */

/* Map Container */
.map-container {
    @apply relative w-full h-full bg-gray-50;
}

#map {
    @apply w-full h-full rounded-lg shadow-lg;
}

/* Enhanced Map Controls */
.hikethere-map-controls {
    @apply flex flex-col gap-3 p-2;
}

/* Trail Count Control */
.enhanced-trail-count-control {
    @apply bg-gradient-to-r from-green-500 to-blue-600 text-white rounded-xl shadow-2xl border border-green-400/30;
    @apply p-4 backdrop-blur-sm bg-white/95;
    min-width: 200px;
}

.trail-count-header {
    @apply text-xs font-medium text-green-100 mb-2 flex items-center gap-2;
}

.trail-count-header .icon {
    @apply text-lg;
}

.trail-count-numbers {
    @apply flex items-baseline gap-1;
}

.filtered-count {
    @apply text-2xl font-bold text-white;
}

.total-count {
    @apply text-sm text-green-100;
}

/* Performance Controls */
.performance-control {
    @apply bg-gradient-to-r from-purple-500 to-indigo-600 text-white rounded-xl shadow-2xl border border-purple-400/30;
    @apply p-4 backdrop-blur-sm;
    min-width: 200px;
}

.performance-header {
    @apply text-xs font-medium text-purple-100 mb-3 flex items-center gap-2;
}

.performance-header .icon {
    @apply text-lg;
}

.performance-options {
    @apply space-y-2;
}

.performance-options label {
    @apply flex items-center gap-2 text-sm cursor-pointer hover:text-purple-200 transition-colors;
}

.performance-options input[type="checkbox"] {
    @apply w-4 h-4 text-purple-600 bg-white border-2 border-purple-300 rounded;
    @apply focus:ring-2 focus:ring-purple-500 focus:ring-offset-2;
}

/* Enhanced Hiking Controls */
.enhanced-hiking-controls {
    @apply bg-gradient-to-r from-orange-500 to-red-600 text-white rounded-xl shadow-2xl border border-orange-400/30;
    @apply p-4 backdrop-blur-sm;
    min-width: 200px;
}

.hiking-control-header {
    @apply flex items-center gap-2 mb-3;
}

.hiking-icon {
    @apply text-lg;
}

.hiking-title {
    @apply text-xs font-medium text-orange-100 uppercase tracking-wide;
}

.hiking-control-content {
    @apply space-y-2;
}

.control-group {
    @apply flex items-center gap-2;
}

.control-label {
    @apply flex items-center gap-2 text-sm cursor-pointer hover:text-orange-200 transition-colors;
}















.control-text {
    @apply text-orange-100;
}







.control-label input[type="checkbox"] {
    @apply w-4 h-4 text-orange-600 bg-white border-2 border-orange-300 rounded;
    @apply focus:ring-2 focus:ring-orange-500 focus:ring-offset-2;
}

/* Hiking Control Buttons */
.hikethere-hiking-controls {
    @apply flex flex-col gap-2 p-2;
}

.hiking-control-btn {
    @apply w-12 h-12 bg-white/95 backdrop-blur-sm rounded-xl shadow-lg border border-gray-200/50;
    @apply flex items-center justify-center text-xl transition-all duration-200;
    @apply hover:bg-green-50 hover:border-green-300 hover:shadow-xl transform hover:scale-105;
    @apply focus:outline-none focus:ring-4 focus:ring-green-500/30;
}

.hiking-control-btn:active {
    @apply scale-95;
}

/* Clean modern styles for new design */
.map-search-input {
    @apply w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg;
    @apply bg-white placeholder-gray-500 text-gray-900;
    @apply focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500;
    @apply transition-colors duration-200;
}

.map-control-button {
    @apply inline-flex items-center justify-center px-3 py-2;
    @apply border border-gray-300 rounded-md text-sm font-medium;
    @apply text-gray-700 bg-white hover:bg-gray-50;
    @apply focus:outline-none focus:ring-2 focus:ring-green-500;
    @apply transition-colors duration-200;
}

.map-control-select {
    @apply block w-full px-3 py-2 border border-gray-300 rounded-md text-sm;
    @apply focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500;
    @apply bg-white text-gray-900 transition-colors duration-200;
}

/* Enhanced Info Windows */
.enhanced-trail-info-window {
    max-width: 24rem;
    background-color: white;
    border-radius: 0.75rem;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
    border: 1px solid rgba(229, 231, 235, 0.5);
    overflow: hidden;
}

.trail-info-header {
    @apply relative;
}

.trail-info-image {
    @apply w-full h-32 object-cover;
}

.trail-info-details {
    @apply p-4;
}

.trail-name {
    @apply text-lg font-bold text-gray-900 mb-2;
}

.trail-location {
    @apply text-sm text-gray-600 mb-3 flex items-center gap-2;
}

.trail-meta {
    @apply flex flex-wrap gap-2 mb-4;
}

.difficulty-badge {
    @apply px-2 py-1 text-xs font-medium rounded-full;
}

.difficulty-badge.beginner {
    @apply bg-green-100 text-green-800 border border-green-200;
}

.difficulty-badge.intermediate {
    @apply bg-yellow-100 text-yellow-800 border border-yellow-200;
}

.difficulty-badge.advanced {
    @apply bg-red-100 text-red-800 border border-red-200;
}

.trail-length, .trail-elevation {
    @apply px-2 py-1 text-xs text-gray-600 bg-gray-100 rounded-full;
}

.trail-info-actions {
    @apply p-4 pt-0 flex gap-2;
}

/* Enhanced Loading Spinner */
#loading-spinner {
    @apply fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50;
}

.loading-content {
    @apply bg-white rounded-2xl p-8 shadow-2xl border border-gray-200/50;
    @apply flex items-center gap-4;
}

.loading-spinner {
    @apply animate-spin rounded-full h-8 w-8 border-4 border-green-200 border-t-green-600;
}

.loading-text {
    @apply text-gray-700 font-medium;
}

/* Enhanced Trail Info Panel */
#trail-info-panel {
    @apply fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-sm border-t border-gray-200/50;
    @apply shadow-2xl transform translate-y-full transition-transform duration-300 ease-in-out z-50;
    @apply max-h-[70vh] overflow-y-auto;
}

#trail-info-panel.show {
    @apply translate-y-0;
}

.trail-info-panel-header {
    @apply p-4 border-b border-gray-200/50 bg-gradient-to-r from-green-50 to-blue-50;
    @apply flex items-center justify-between;
}

.trail-info-panel-title {
    @apply text-lg font-bold text-gray-900;
}

.trail-info-panel-close {
    @apply text-gray-400 hover:text-gray-600 transition-colors cursor-pointer;
    @apply w-6 h-6 flex items-center justify-center rounded-full hover:bg-gray-100;
}

.trail-info-panel-content {
    @apply p-4 space-y-4;
}

.trail-details-grid {
    @apply grid grid-cols-2 md:grid-cols-3 gap-4;
}

.trail-detail-item {
    @apply p-3 bg-gray-50 rounded-lg;
}

.trail-detail-item h5 {
    @apply text-sm font-semibold text-gray-700 mb-1;
}

.trail-detail-item p {
    @apply text-sm text-gray-900;
}

.trail-description {
    @apply p-4 bg-gradient-to-r from-green-50 to-blue-50 rounded-lg;
}

.trail-description h5 {
    @apply text-sm font-semibold text-gray-700 mb-2;
}

.trail-description p {
    @apply text-sm text-gray-700 leading-relaxed;
}

.trail-actions {
    @apply flex flex-wrap gap-2;
}

/* Enhanced Hiking Info Panel */
#hiking-info-panel {
    @apply mt-4 p-4 bg-gradient-to-r from-green-50 to-blue-50 border border-green-200/50 rounded-xl;
    @apply shadow-lg;
}

.hiking-info-header {
    @apply flex items-center justify-between mb-3;
}

.hiking-info-title {
    @apply text-sm font-medium text-green-800 flex items-center gap-2;
}

.hiking-info-close {
    @apply text-green-600 hover:text-green-800 transition-colors cursor-pointer;
}

.hiking-info-content {
    @apply grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-green-700;
}

/* Weather Overlay */
.weather-overlay {
    position: fixed;
    top: 1rem;
    right: 1rem;
    z-index: 50;
    background-color: white;
    border-radius: 0.75rem;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
    border: 1px solid #e5e7eb;
    padding: 1rem;
    max-width: 24rem;
}

.weather-content {
    @apply space-y-3;
}

.weather-header {
    @apply flex items-center justify-between;
}

.weather-header h4 {
    @apply text-lg font-semibold text-gray-900;
}

.close-btn {
    @apply text-gray-400 hover:text-gray-600 transition-colors cursor-pointer;
    @apply w-6 h-6 flex items-center justify-center rounded-full hover:bg-gray-100;
}

.weather-details {
    @apply space-y-2;
}

.weather-item {
    @apply flex justify-between items-center;
}

.weather-label {
    @apply text-sm text-gray-600;
}

.weather-value {
    @apply text-sm font-medium text-gray-900;
}

/* Elevation Chart */
.elevation-chart-container {
    @apply fixed bottom-4 left-4 z-50 bg-white rounded-xl shadow-2xl border border-gray-200;
    @apply p-4 max-w-md;
}

.elevation-chart-header {
    @apply flex items-center justify-between mb-3;
}

.elevation-chart-header h4 {
    @apply text-lg font-semibold text-gray-900;
}

.elevation-chart-content {
    @apply bg-gray-50 rounded-lg p-3;
}

#elevation-canvas {
    @apply w-full;
}

/* Enhanced Notifications */
.enhanced-notification {
    @apply fixed top-4 right-4 z-50 max-w-sm;
    @apply animate-slideInRight;
}

.enhanced-notification.error .notification-content {
    @apply bg-red-500 text-white;
}

.enhanced-notification.success .notification-content {
    @apply bg-green-500 text-white;
}

.enhanced-notification.info .notification-content {
    @apply bg-blue-500 text-white;
}

.notification-content {
    @apply rounded-lg shadow-lg p-4 flex items-center gap-3;
}

.notification-icon {
    @apply text-xl;
}

.notification-message {
    @apply flex-1 text-sm;
}

.notification-close {
    @apply text-white/80 hover:text-white transition-colors cursor-pointer;
    @apply w-6 h-6 flex items-center justify-center rounded-full hover:bg-white/20;
}

/* Difficulty-specific styles */
.difficulty-beginner {
    @apply text-green-600 font-semibold;
}

.difficulty-intermediate {
    @apply text-yellow-600 font-semibold;
}

.difficulty-advanced {
    @apply text-red-600 font-semibold;
}

/* Responsive Design */
@media (max-width: 768px) {
    /* Map container mobile adjustments */
    #map {
        height: 400px !important;
    }
    
    /* Controls responsive grid - stack on mobile */
    .grid.lg\\:grid-cols-3 {
        @apply grid-cols-1 gap-3;
    }
    
    /* Button grids - single column on mobile */
    .grid.grid-cols-2 {
        @apply grid-cols-1 gap-2;
    }
    
    /* Quick actions floating buttons - smaller on mobile */
    .fixed.bottom-6.right-6 button {
        @apply w-10 h-10;
    }
    
    .fixed.bottom-6.right-6 button svg {
        @apply w-4 h-4;
    }
    
    /* Trail info panel mobile */
    #trail-info-panel {
        @apply max-h-[60vh];
    }
    
    /* Help modal mobile */
    #help-modal .max-w-2xl {
        @apply max-w-sm mx-2;
    }
    
    /* Statistics mobile layout */
    .flex.items-center.space-x-6 {
        @apply flex-col space-x-0 space-y-2 items-start;
    }
    
    /* Hiking info panel mobile */
    .grid.md\\:grid-cols-3 {
        @apply grid-cols-1 gap-4;
    }
}

@media (max-width: 480px) {
    /* Extra small screens */
    .px-4 {
        @apply px-2;
    }
    
    .py-6 {
        @apply py-4;
    }
    
    /* Map even smaller on very small screens */
    #map {
        height: 350px !important;
    }
    
    /* Floating buttons positioned better */
    .fixed.bottom-6.right-6 {
        @apply bottom-4 right-4;
    }
    
    /* Help modal full width on small screens */
    #help-modal .mx-4 {
        @apply mx-2;
    }
}

/* Dark Mode Support */
@media (prefers-color-scheme: dark) {
    .enhanced-trail-count-control,
    .performance-control,
    .enhanced-hiking-controls {
        @apply bg-gray-900/95 border-gray-700/50;
    }
    
    .enhanced-search-input {
        @apply bg-gray-800/95 border-gray-600/50 text-white placeholder-gray-400;
    }
    
    .enhanced-filter-select {
        @apply bg-gray-800/95 border-gray-600/50 text-white;
    }
    
    .enhanced-trail-info-window {
        @apply bg-gray-900 border-gray-700;
    }
    
    .trail-name {
        @apply text-white;
    }
    
    .trail-location {
        @apply text-gray-300;
    }
    
    .weather-overlay,
    .elevation-chart-container {
        @apply bg-gray-900 border-gray-700;
    }
    
    .weather-header h4,
    .elevation-chart-header h4 {
        @apply text-white;
    }
    
    .weather-label {
        @apply text-gray-400;
    }
    
    .weather-value {
        @apply text-white;
    }
}

/* High Contrast Mode */
@media (prefers-contrast: high) {
    .enhanced-trail-count-control,
    .performance-control,
    .enhanced-hiking-controls {
        @apply border-2 border-black;
    }
    
    .enhanced-btn {
        @apply border-2 border-black;
    }
    
    .hiking-control-btn {
        @apply border-2 border-black;
    }
}

/* Reduced Motion */
@media (prefers-reduced-motion: reduce) {
    .enhanced-btn,
    .hiking-control-btn {
        @apply transform-none;
    }
    
    .enhanced-notification {
        @apply animate-none;
    }
    
    #trail-info-panel {
        @apply transition-none;
    }
}

/* Focus States for Accessibility */
.enhanced-btn:focus,
.enhanced-search-input:focus,
.enhanced-filter-select:focus,
.hiking-control-btn:focus {
    @apply outline-none ring-4 ring-green-500/30;
}

/* Hover Effects */
.enhanced-btn:hover,
.hiking-control-btn:hover {
    @apply shadow-xl;
}

.enhanced-trail-count-control:hover,
.performance-control:hover,
.enhanced-hiking-controls:hover {
    @apply shadow-2xl;
}

/* Animation Keyframes */
@keyframes slideInRight {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

.animate-slideInRight {
    animation: slideInRight 0.3s ease-out;
}

/* Custom scrollbar for panels */
#trail-info-panel::-webkit-scrollbar {
    @apply w-2;
}

#trail-info-panel::-webkit-scrollbar-track {
    @apply bg-gray-100 rounded-full;
}

#trail-info-panel::-webkit-scrollbar-thumb {
    @apply bg-gray-400 rounded-full;
}

#trail-info-panel::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-500;
}

/* Map marker clustering custom styles */
.cluster {
    @apply bg-green-500 text-white rounded-full flex items-center justify-center;
    @apply font-bold text-sm border-2 border-white shadow-lg;
}

/* Custom Google Maps styling overrides */
.gm-style .gm-style-iw-c {
    @apply rounded-lg overflow-hidden;
    max-width: 300px !important;
    padding: 0 !important;
}

.gm-style .gm-style-iw-d {
    @apply overflow-hidden;
    padding: 0 !important;
}

/* Enhanced info window content styling */
.gm-style .enhanced-trail-info-window {
    @apply w-full;
}

/* Profile-style trail info window for small maps */
.gm-style .enhanced-trail-info-window.max-w-sm {
    max-width: 320px !important;
}

/* Ensure proper sizing for the new profile layout */
.gm-style .enhanced-trail-info-window .w-14 {
    width: 3.5rem !important;
}

.gm-style .enhanced-trail-info-window .h-14 {
    height: 3.5rem !important;
}

/* Profile layout specific styles */
.gm-style .enhanced-trail-info-window .flex {
    display: flex !important;
}

.gm-style .enhanced-trail-info-window .gap-3 {
    gap: 0.75rem !important;
}

.gm-style .enhanced-trail-info-window .mb-3 {
    margin-bottom: 0.75rem !important;
}

.gm-style .enhanced-trail-info-window .text-center {
    text-align: center !important;
}

.gm-style .enhanced-trail-info-window .line-clamp-1 {
    display: -webkit-box !important;
    -webkit-line-clamp: 1 !important;
    -webkit-box-orient: vertical !important;
    overflow: hidden !important;
}

.gm-style .enhanced-trail-info-window .flex {
    display: flex !important;
}

.gm-style .enhanced-trail-info-window .flex-col {
    flex-direction: column !important;
}

.gm-style .enhanced-trail-info-window .flex-wrap {
    flex-wrap: wrap !important;
}

.gm-style .enhanced-trail-info-window .items-center {
    align-items: center !important;
}

.gm-style .enhanced-trail-info-window .justify-between {
    justify-content: space-between !important;
}

.gm-style .enhanced-trail-info-window .justify-center {
    justify-content: center !important;
}

.gm-style .enhanced-trail-info-window .gap-1 {
    gap: 0.25rem !important;
}

.gm-style .enhanced-trail-info-window .gap-2 {
    gap: 0.5rem !important;
}

.gm-style .enhanced-trail-info-window .mb-1 {
    margin-bottom: 0.25rem !important;
}

.gm-style .enhanced-trail-info-window .mb-3 {
    margin-bottom: 0.75rem !important;
}

.gm-style .enhanced-trail-info-window .mb-4 {
    margin-bottom: 1rem !important;
}

.gm-style .enhanced-trail-info-window .mr-1 {
    margin-right: 0.25rem !important;
}

.gm-style .enhanced-trail-info-window .mr-1-5 {
    margin-right: 0.375rem !important;
}

.gm-style .enhanced-trail-info-window .p-4 {
    padding: 1rem !important;
}

.gm-style .enhanced-trail-info-window .px-2-5 {
    padding-left: 0.625rem !important;
    padding-right: 0.625rem !important;
}

.gm-style .enhanced-trail-info-window .px-3 {
    padding-left: 0.75rem !important;
    padding-right: 0.75rem !important;
}

.gm-style .enhanced-trail-info-window .py-1 {
    padding-top: 0.25rem !important;
    padding-bottom: 0.25rem !important;
}

.gm-style .enhanced-trail-info-window .py-2 {
    padding-top: 0.5rem !important;
    padding-bottom: 0.5rem !important;
}

/* Enhanced button styles for info windows */
.gm-style .enhanced-trail-info-window button {
    border-radius: 0.5rem !important;
    font-weight: 500 !important;
    font-size: 0.875rem !important;
    transition: all 0.2s !important;
    outline: none !important;
}

.gm-style .enhanced-trail-info-window button:hover {
    transform: translateY(-1px) !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
}

.gm-style .enhanced-trail-info-window button:active {
    transform: translateY(0) !important;
}

/* Text truncation for trail names and locations */
.gm-style .enhanced-trail-info-window .truncate {
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    white-space: nowrap !important;
}

.gm-style .enhanced-trail-info-window .line-clamp-2 {
    display: -webkit-box !important;
    -webkit-line-clamp: 2 !important;
    -webkit-box-orient: vertical !important;
    overflow: hidden !important;
}

/* Trail path styles */
.trail-path {
    @apply cursor-pointer;
}

.trail-path:hover {
    stroke-width: 5 !important;
    stroke-opacity: 1 !important;
}

/* Enhanced map container with hiking theme */
.map-container::before {
    content: '';
    @apply absolute inset-0 bg-gradient-to-br from-green-50/20 to-blue-50/20 pointer-events-none;
    @apply rounded-lg;
}

/* Loading states */
.loading-trails {
    @apply opacity-50 pointer-events-none;
}

/* Success states */
.trail-found {
    @apply animate-pulse;
}

/* Error states */
.trail-error {
    @apply opacity-50 grayscale;
}

/* Print styles */
@media print {
    .hikethere-map-controls,
    .hikethere-hiking-controls,
    .enhanced-action-buttons,
    .enhanced-filters,
    #loading-spinner,
    .enhanced-notification,
    .weather-overlay,
    .elevation-chart-container {
        @apply hidden;
    }
    
    #map {
        @apply shadow-none border border-gray-300;
    }
}

/* Auto-hiding scrollbars */
.auto-hide-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: rgba(156, 163, 175, 0.3) transparent;
    transition: scrollbar-color 0.3s ease;
    position: relative;
}

.auto-hide-scrollbar::-webkit-scrollbar {
    width: 8px;
    background: transparent;
}

.auto-hide-scrollbar::-webkit-scrollbar-track {
    background: transparent;
}

.auto-hide-scrollbar::-webkit-scrollbar-thumb {
    background: rgba(156, 163, 175, 0.3);
    border-radius: 10px;
    transition: all 0.3s ease;
    opacity: 0;
}

.auto-hide-scrollbar:hover::-webkit-scrollbar-thumb,
.auto-hide-scrollbar.scrolling::-webkit-scrollbar-thumb {
    background: rgba(156, 163, 175, 0.6);
    opacity: 1;
}

.auto-hide-scrollbar::-webkit-scrollbar-thumb:hover {
    background: rgba(156, 163, 175, 0.8);
}

/* Hide scrollbars by default, show on hover or scroll */
.auto-hide-scrollbar:not(:hover):not(.scrolling) {
    scrollbar-width: none;
}

.auto-hide-scrollbar:not(:hover):not(.scrolling)::-webkit-scrollbar {
    width: 0px;
    background: transparent;
}